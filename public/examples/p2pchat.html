<html><body><script>(function() {var $,$$=[],$args=arguments;$document=document;$body=$document.body;$loadScript=function() {var $,$$=[],$args=arguments;$$.push("script");$script=$document.createElement.apply($document,$$.splice(-1));[$script].forEach(function(e){e.onload=$args[1];e.src=$args[0];});$$.push($script);$=$body.appendChild.apply($body,$$.splice(-1));};$createInput=function() {var $,$$=[],$args=arguments;$$.push("input");$res=$document.createElement.apply($document,$$.splice(-1));[$res].forEach(function(e){e.type=$args[0];});$$.push($res);$=$body.appendChild.apply($body,$$.splice(-1));return $res;};$createElement=function() {var $,$$=[],$args=arguments;$$.push($args[0]);$res=$document.createElement.apply($document,$$.splice(-1));$$.push($res);$=$body.appendChild.apply($body,$$.splice(-1));return $res;};$addChatLog=function() {var $,$$=[],$args=arguments;$chatLogContent=$chatLog.textContent;$chatLogContent+=$args[0];$chatLogContent+=": ";$chatLogContent+=$args[1];$chatLogContent+="\n";[$chatLog].forEach(function(e){e.textContent=$chatLogContent;});};$handleData=function() {var $,$$=[],$args=arguments;$$.push("data");$$.push(function() {var $,$$=[],$args=arguments;$$.push("them");$$.push($args[0]);$=$addChatLog.apply(null,$$.splice(-2));});$=$args[0].on.apply($args[0],$$.splice(-2));};$$.push("https://cdnjs.cloudflare.com/ajax/libs/peerjs/1.2.0/peerjs.js");$$.push(function() {var $,$$=[],$args=arguments;$Peer=Peer;$Peer=(function(c) {return function(){return Reflect.construct(c, arguments)}})($Peer);$peer=$Peer.apply(null,$$.splice(-0));$$.push("open");$$.push(function() {var $,$$=[],$args=arguments;$=$peer.id;$$.push($);$=$setPeerId.apply(null,$$.splice(-1));});$=$peer.on.apply($peer,$$.splice(-2));$$.push("connection");$$.push(function() {var $,$$=[],$args=arguments;$conn=$args[0];$$.push(true);$=$setConnected.apply(null,$$.splice(-1));$$.push($args[0]);$=$handleData.apply(null,$$.splice(-1));});$=$peer.on.apply($peer,$$.splice(-2));});$=$loadScript.apply(null,$$.splice(-2));$connected=false;$setConnected=function() {var $,$$=[],$args=arguments;$connected=$args[0];$notConnected=$connected;$notConnected=!$notConnected;[$messageBox,$sendButton].forEach(function(e){e.disabled=$notConnected;});[$peerIdTextBox,$connectButton].forEach(function(e){e.disabled=$connected;});};$$.push("p");$peerIdLabel=$createElement.apply(null,$$.splice(-1));$setPeerId=function() {var $,$$=[],$args=arguments;$peerId=$args[0];$text="Peer ID: ";$text+=$peerId;[$peerIdLabel].forEach(function(e){e.textContent=$text;});};$$.push("Loading...");$=$setPeerId.apply(null,$$.splice(-1));$$.push("br");$=$createElement.apply(null,$$.splice(-1));$$.push("pre");$chatLog=$createElement.apply(null,$$.splice(-1));$$.push("br");$=$createElement.apply(null,$$.splice(-1));$sendMessage=function() {var $,$$=[],$args=arguments;$=$messageBox.value;$$.push($);$=$conn.send.apply($conn,$$.splice(-1));$$.push("you");$=$messageBox.value;$$.push($);$=$addChatLog.apply(null,$$.splice(-2));$="";$messageBox.value=$;};$$.push("text");$messageBox=$createInput.apply(null,$$.splice(-1));[$messageBox].forEach(function(e){e.placeholder="message";e.onkeydown=function() {var $,$$=[],$args=arguments;$keyCode=$args[0].keyCode;if(!($keyCode!=13)){$=$sendMessage.apply(null,$$.splice(-0));}};});$$.push("button");$sendButton=$createInput.apply(null,$$.splice(-1));[$sendButton].forEach(function(e){e.value="send";e.onclick=$sendMessage;});$$.push("br");$=$createElement.apply(null,$$.splice(-1));$$.push("text");$peerIdTextBox=$createInput.apply(null,$$.splice(-1));[$peerIdTextBox].forEach(function(e){e.placeholder="peer id";});$$.push("button");$connectButton=$createInput.apply(null,$$.splice(-1));[$connectButton].forEach(function(e){e.value="connect";e.onclick=function() {var $,$$=[],$args=arguments;[$peerIdTextBox,$connectButton].forEach(function(e){e.disabled=true;});$=$peerIdTextBox.value;$$.push($);$conn=$peer.connect.apply($peer,$$.splice(-1));$$.push("open");$$.push(function() {var $,$$=[],$args=arguments;$$.push(true);$=$setConnected.apply(null,$$.splice(-1));$$.push($conn);$=$handleData.apply(null,$$.splice(-1));});$=$conn.on.apply($conn,$$.splice(-2));};});$$.push(false);$=$setConnected.apply(null,$$.splice(-1));})();</script></body></html>